package com.imajuk.media{    import flash.display.DisplayObject;
    import com.imajuk.logs.Logger;
    import com.imajuk.interfaces.INormalizer;
    import flash.media.SoundMixer;    import flash.media.SoundTransform;    import flash.events.MouseEvent;    import org.libspark.thread.Thread;    /**     * @author shinyamaharu     */    public class VideoSoundThread extends Thread     {        private var videoUI : IVideoUI;
        public function VideoSoundThread(videoUI : IVideoUI)        {            super();                        this.videoUI = videoUI;        }        override protected function run() : void        {            if (!videoUI.soundUI) return;                    	if (isInterrupted) return;            interrupted(function():void{});                        event(DisplayObject(videoUI.soundUI), MouseEvent.MOUSE_UP, soundButtonReleaseHandler);        }        private function soundButtonReleaseHandler(e : MouseEvent) : void        {        	if (isInterrupted) return;        	            var btn : INormalizer = INormalizer(e.currentTarget);            var st : SoundTransform = new SoundTransform();            st.volume = btn.nomalizedValue;            SoundMixer.soundTransform = st;            Logger.info(1, "volume was changed : " + btn.nomalizedValue);                        run();        }        override protected function finalize() : void        {        }    }}