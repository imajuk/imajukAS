package com.imajuk.ui.window{    import com.imajuk.constructions.DocumentClass;    import com.imajuk.ui.scroll.view.Bar;    import flash.display.Sprite;    import flash.events.MouseEvent;    import org.libspark.thread.Thread;    /**     * @author shinyamaharu     */    public class WindowIdleThread extends Thread     {        private var closeTarget : Array;                /**         * @param closeTarget	ウィンドウを終了するきっかけになるボタン         */        public function WindowIdleThread(...closeTarget)        {            super();                        this.closeTarget =             	(closeTarget.length == 0) ?             		[DocumentClass.container as Sprite] :            		closeTarget;        }        override protected function run() : void        {            next(idle);        }        private function idle() : void        {            closeTarget.forEach(function(disposeBtn:Sprite, ...param):void            {	            event(disposeBtn, MouseEvent.MOUSE_DOWN, function(e : MouseEvent):void	            {	                if (e.target is Bar)	                {	                    next(idle);	                    return;	                }	            });            });        }        override protected function finalize() : void        {        }    }}