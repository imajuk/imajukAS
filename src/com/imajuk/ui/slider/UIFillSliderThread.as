package com.imajuk.ui.slider{    import com.imajuk.logs.Logger;
    import com.imajuk.utils.StageReference;
    import flash.events.MouseEvent;
    import org.libspark.thread.Thread;    /**     * @author shinyamaharu     */    public class UIFillSliderThread extends Thread     {        private var dragging : Boolean = false;        private var slider : UIFillSlider;
        public function UIFillSliderThread(slider:UIFillSlider)        {            super();            this.slider = slider;        }        override protected function run() : void        {            event(slider.bar,           MouseEvent.MOUSE_DOWN, sliderDownHandler);            event(StageReference.stage, MouseEvent.MOUSE_UP,   sliderUpHandler);            event(slider,               MouseEvent.ROLL_OUT,   sliderOutHandler);            event(slider,               MouseEvent.MOUSE_MOVE, sliderMoveHandler);        }                private function sliderDownHandler(event : MouseEvent) : void         {            dragging = true;            update(event.localX);            run();        }        private function sliderUpHandler(event : MouseEvent) : void         {            dragging = false;            run();        }                private function sliderOutHandler(event : MouseEvent) : void         {            dragging = false;            run();        }                private function sliderMoveHandler(event : MouseEvent) : void         {                        update(event.localX);            run();        }        private function update(mx:Number) : void         {            if (dragging)            	slider.value = mx;        }        override protected function finalize() : void        {        	Logger.debug(this);        }    }}