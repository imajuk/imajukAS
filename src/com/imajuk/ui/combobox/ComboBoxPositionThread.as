package com.imajuk.ui.combobox{	import flash.display.DisplayObject;    import fl.motion.easing.Quadratic;    import com.imajuk.motion.TweensyThread;    import com.imajuk.utils.StageReference;    import flash.events.Event;    import org.libspark.thread.Thread;    /**     * @author shin.yamaharu     */    public class ComboBoxPositionThread extends Thread     {        private var combo:ComboBox;        public function ComboBoxPositionThread(combo:ComboBox)        {            super();            this.combo = combo;        }                override protected function run():void        {            event(combo, Event.ENTER_FRAME, function():void            {                var stageHeight:int = StageReference.stage.stageHeight;                var container:DisplayObject = combo.itemContainer;                var combo_bottom:Number = combo.bottom;                var diff_forMovingUp:Number = stageHeight - combo_bottom;                var diff_forMovingDown:Number = -container.y;                                if (combo.isOpen)                {                    if (diff_forMovingUp < 0)                        container.y += diff_forMovingUp * .5;                }                else                 {                    if(diff_forMovingDown > 0)                    {                        var t:Thread = new TweensyThread(container, 0, .5, Quadratic.easeInOut, null, {y:0});                        t.start();                        t.join();                    }                }                                    next(run);                                });        }        override protected function finalize():void        {        }    }}