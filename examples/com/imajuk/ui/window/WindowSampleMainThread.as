package com.imajuk.ui.window{    import com.imajuk.constructions.AppDomainRegistry;    import com.imajuk.constructions.AssetFactory;    import com.imajuk.constructions.DocumentClass;    import com.imajuk.service.AssetLocation;    import com.imajuk.service.IAssetLocation;    import com.imajuk.service.PreLoader;    import com.imajuk.service.PreLoaderThread;    import flash.display.Sprite;    import flash.net.URLRequest;    import org.libspark.thread.Thread;    /**     * @author shinyamaharu     */    public class WindowSampleMainThread extends Thread     {        public function WindowSampleMainThread()        {            super();        }        override protected function run() : void        {            next(loadWindowAsset);        }        private function loadWindowAsset() : void        {            var a : IAssetLocation = new AssetLocation();            a.add(            	new URLRequest("windowAsset.swf"), 	            function(d : Sprite):void	            {	                AppDomainRegistry.getInstance().resisterAppDomain(d);	            });                        var preloader : PreLoader = new PreLoader();            var t : Thread = new PreLoaderThread(preloader, a);            t.start();            t.join();                        next(startWindow);        }        private function startWindow() : void        {        	var windowAsset:Sprite =         		DocumentClass.container.addChild(        			AssetFactory.create("$Frame")        		) as Sprite;        		            windowAsset.alpha = 0;        	        	var t : Thread =             	new WindowThread(            		new SimpleWindowViewThread(windowAsset, "WIN1")            	);            t.start();            t.join();                                                var windowAsset2:Sprite =         		DocumentClass.container.addChild(        			AssetFactory.create("$Frame")        		) as Sprite;        	        	windowAsset2.x = 700;            windowAsset2.alpha = 0;        	        	var t2 : Thread =             	new WindowThread(            		new SimpleWindowViewThread(windowAsset2, "WIN2")            	);            t2.start();        }        override protected function finalize() : void        {        }    }}