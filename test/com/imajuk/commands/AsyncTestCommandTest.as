package com.imajuk.commands{	import flash.events.Event;		import flash.display.*;	import org.libspark.as3unit.after;	import org.libspark.as3unit.assert.*;	import org.libspark.as3unit.before;	import org.libspark.as3unit.test;	use namespace test;	use namespace before;	use namespace after;	internal class AsyncTestCommandTest extends Sprite	{		test function extcute () : void		{			var c : int = 0;			var closure : Function = function():void			{				c ++;				};			var aCmd : AsyncTestCommand = new AsyncTestCommand(closure);			aCmd.addEventListener(Event.COMPLETE, async(function():void			{				//実行が終わった				assertFalse(aCmd.isExecuting);				//カウンタがインクリメントされた				assertEquals(1, c);			}, 1300));						//まだ実行していない			assertFalse(aCmd.isExecuting);			aCmd.execute();			//今実行中			assertTrue(aCmd.isExecuting);			//実行中はまだカウンタはインクリメントされない			assertEquals(0, c);		}		test function clone () : void		{			var c : int = 0;			var cmd : AsyncTestCommand = new AsyncTestCommand(function(arg:Number):void			{				c += arg;			}, 10);			cmd = cmd.clone() as AsyncTestCommand;						cmd.addEventListener(Event.COMPLETE, async(function():void			{				assertEquals(10, c);			}, 1300));			cmd.execute();		}	}}